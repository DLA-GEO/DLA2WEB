<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Licenciamento Ambiental - Estado do Pará</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
    <link rel="stylesheet" href="css/L.Control.ZoomBar.css"/>
    <link rel="stylesheet" href="css/qgis2web.css">
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <link rel="stylesheet" href="css/MarkerCluster.css">
    <link rel="stylesheet" href="css/MarkerCluster.Default.css">
    <link rel="stylesheet" href="css/leaflet.photon.css">
    <link rel="stylesheet" href="css/leaflet-measure.css">        
    <link rel="stylesheet" href="css/leaflet_expressions.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css"/>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1><i class="fas fa-tree"></i> Licenciamento Ambiental - Estado do Pará</h1>
                <p class="subtitle">Sistema de Monitoramento de Empreendimentos</p>
            </div>
        </header>
        
        <div class="dashboard">
            <div class="card search-panel">
                <div class="card-header">
                    <h3 class="card-title"><i class="fas fa-search"></i> Busca Avançada</h3>
                </div>
                
                <div class="separator-info">
                    <i class="fas fa-info-circle"></i> O sistema aceita apenas arquivos CSV com separador de ponto e vírgula (;)
                </div>
                
                <div class="file-upload" id="file-upload-area">
                    <i class="fas fa-file-csv"></i>
                    <p><strong>Clique para carregar arquivo CSV</strong></p>
                    <p>ou arraste o arquivo para esta área</p>
                    <p id="file-name">Nenhum arquivo selecionado</p>
                    <input type="file" id="csv-file" accept=".csv" style="display: none;">
                </div>
                
                <div class="search-type-toggle">
                    <div class="search-type-btn active" data-search-type="coordinates">
                        <i class="fas fa-map-marker-alt"></i> Por Coordenadas
                    </div>
                    <div class="search-type-btn" data-search-type="process">
                        <i class="fas fa-file-alt"></i> Por Processo
                    </div>
                </div>
                
                <!-- Seção de Busca por Coordenadas -->
                <div class="search-section active" id="coordinates-search">
                    <div class="format-toggle">
                        <div class="format-btn active" data-format="gms">Graus/Minutos/Segundos</div>
                        <div class="format-btn" data-format="decimal">Decimal</div>
                    </div>
                    
                    <div class="form-group" id="latitude-gms-group">
                        <label for="latitude"><i class="fas fa-globe-americas"></i> Latitude</label>
                        <div class="coordinate-input-group">
                            <div class="coordinate-input">
                                <input type="number" id="lat-degrees" placeholder="Graus" min="-90" max="90" value="5">
                                <div class="coordinate-label">Graus (°)</div>
                            </div>
                            <div class="coordinate-input">
                                <input type="number" id="lat-minutes" placeholder="Minutos" min="0" max="59" value="31">
                                <div class="coordinate-label">Minutos (')</div>
                            </div>
                            <div class="coordinate-input">
                                <input type="number" id="lat-seconds" placeholder="Segundos" min="0" max="59.999" step="0.001" value="58.32">
                                <div class="coordinate-label">Segundos (")</div>
                            </div>
                        </div>
                        <select id="lat-direction">
                            <option value="-1">Sul (S)</option>
                            <option value="1">Norte (N)</option>
                        </select>
                        <div class="coordinate-display" id="lat-decimal-display">
                            Decimal: -5.5327°
                        </div>
                    </div>
                    
                    <div class="form-group" id="longitude-gms-group">
                        <label for="longitude"><i class="fas fa-globe-americas"></i> Longitude</label>
                        <div class="coordinate-input-group">
                            <div class="coordinate-input">
                                <input type="number" id="lon-degrees" placeholder="Graus" min="-180" max="180" value="52">
                                <div class="coordinate-label">Graus (°)</div>
                            </div>
                            <div class="coordinate-input">
                                <input type="number" id="lon-minutes" placeholder="Minutos" min="0" max="59" value="17">
                                <div class="coordinate-label">Minutos (')</div>
                            </div>
                            <div class="coordinate-input">
                                <input type="number" id="lon-seconds" placeholder="Segundos" min="0" max="59.999" step="0.001" value="31.92">
                                <div class="coordinate-label">Segundos (")</div>
                            </div>
                        </div>
                        <select id="lon-direction">
                            <option value="-1">Oeste (W)</option>
                            <option value="1">Leste (E)</option>
                        </select>
                        <div class="coordinate-display" id="lon-decimal-display">
                            Decimal: -52.2922°
                        </div>
                    </div>
                    
                    <div class="form-group" id="latitude-decimal-group" style="display: none;">
                        <label for="latitude-decimal"><i class="fas fa-globe-americas"></i> Latitude (Decimal)</label>
                        <input type="text" id="latitude-decimal" placeholder="Ex: -5.5327">
                    </div>
                    
                    <div class="form-group" id="longitude-decimal-group" style="display: none;">
                        <label for="longitude-decimal"><i class="fas fa-globe-americas"></i> Longitude (Decimal)</label>
                        <input type="text" id="longitude-decimal" placeholder="Ex: -52.2922">
                    </div>
                    
                    <div class="form-group">
                        <label for="radius"><i class="fas fa-ruler-combined"></i> Raio de Busca (km)</label>
                        <input type="number" id="radius" placeholder="Ex: 50" value="50" min="1" max="500">
                    </div>
                    
                    <button id="search-coordinates-btn">
                        <i class="fas fa-search"></i> Buscar por Coordenadas
                    </button>
                </div>
                
                <!-- Seção de Busca por Processo -->
                <div class="search-section" id="process-search">
                    <div class="form-group">
                        <label for="process-number"><i class="fas fa-file-contract"></i> Número do Processo</label>
                        <input type="text" id="process-number" placeholder="Ex: 2022/0000009426" maxlength="15">
                        <div class="process-example">Formato: AAAA/NNNNNNNNNN (15 caracteres máximo)</div>
                    </div>
                    
                    <button id="search-process-btn" class="secondary-button">
                        <i class="fas fa-search"></i> Buscar por Processo
                    </button>
                    
                    <div class="results-info">
                        <p><i class="fas fa-info-circle"></i> Digite o número completo do processo para localizar o empreendimento específico.</p>
                    </div>
                </div>
                
                <button id="show-all-btn" style="background: linear-gradient(135deg, #17a2b8 0%, #138496 100%); margin-top: 15px;">
                    <i class="fas fa-list"></i> Mostrar Todos os Empreendimentos
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title"><i class="fas fa-map-marked-alt"></i> Mapa de Empreendimentos</h3>
                </div>
                <div class="map-container" id="map"></div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #2ecc71;"></div>
                        <span>Dentro do Raio/Encontrado</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #e74c3c;"></div>
                        <span>Fora do Raio/Não Encontrado</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #3498db;"></div>
                        <span>Coordenada de Busca</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #f39c12;"></div>
                        <span>Capital (Belém)</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-list-ul"></i> Empreendimentos Encontrados</h3>
                <span id="results-count">0 resultados</span>
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Empreendimento</th>
                            <th>Processo</th>
                            <th>Situação</th>
                            <th>Localização</th>
                            <th>Título</th>
                            <th>Distância (km)</th>
                        </tr>
                    </thead>
                    <tbody id="results-table">
                        <tr>
                            <td colspan="6" style="text-align: center;">Carregue um arquivo CSV e realize uma busca para visualizar os resultados</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/leaflet.js"></script>
    <script src="js/L.Control.Layers.Tree.min.js"></script>
    <script src="js/multi-style-layer.js"></script>
    <script src="js/leaflet-svg-shape-markers.min.js"></script>
    <script src="js/L.Control.ZoomBar.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="js/leaflet.photon.js"></script>
    <script src="js/leaflet-measure.js"></script>
    <script src="js/leaflet.markercluster.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.6/ui-bootstrap-tpls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.8/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
    
    <!-- Dados das camadas temáticas -->
    <script src="data/UCMunicipalMMA_3.js"></script>
    <script src="data/UCEstadual_4.js"></script>
    <script src="data/UCFederal_5.js"></script>
    <script src="data/reaMinlitar_6.js"></script>
    <script src="data/TerrasIndigenas_7.js"></script>
    <script src="data/AldeiasIndigenas_8.js"></script>
    <script src="data/QuilomboEstadual_9.js"></script>
    <script src="data/QuilomboFederal_10.js"></script>
    <script src="data/RodoviaEstadual_11.js"></script>
    <script src="data/RodoviaFederal_12.js"></script>
    <script src="data/SedesMunicpios_13.js"></script>
    <script src="data/Capital_14.js"></script>
    <script src="data/FronteiraMunicipal_15.js"></script>

    <!-- Aplicativo principal -->
    <script src="js/qgis2web.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
